<aura:component  controller="responseController" implements="forceCommunity:availableForAllPageTypes" >
    
    <aura:attribute name="question" type="String" />
     <aura:attribute name="body" type="String" />
    <aura:attribute name="responses" type="Question_Response__c[]" />
    <aura:handler name="init" value="{!this}" action="{!c.init}"/>
    <div class="slds-align_absolute-center">
    <div class="slds-size_5-of-12">
        <div class="slds-align_absolute-center">
        <div class="questionCard">
        <lightning:card > 
            
            <div class="slds-text-heading_medium">
                <div class= "slds-align_absolute-center">
                {!v.question}
            
                    </div>
          
                </div>
             
            
    <!-- Submission Form -->
     <div class="submission">   
    <div class="slds-align_absolute-center ">
        <fieldset class="slds-box slds-theme_default slds-size_small">
        <legend id="newSubmissionForm" class="slds-text-heading_medium
          slds-p-vertical_small">
          Submit a response
        </legend>
        <form class="slds-form_stacked">
            <lightning:textarea aura:id="subBody" label="Your response:"
                             name="body"
                             type="String"
                             onchange="{!c.textChanged}"
                             placeholder = "Type your response here.."/>
            

            <lightning:button label="Submit"
                              class="slds-m-top_medium"
                              variant="brand"
                              onclick="{!c.createResponse}"/>
        </form>
      </fieldset>
    
    </div>
         </div>
    
            </lightning:card>
              </div>
        </div>
       </div>
    </div>
     <div class="slds-align_absolute-center ">
         <div class="slds-size_6-of-12">
    <aura:iteration var="g" items="{!v.responses}" >
       
        <lightning:card class = "responseCard" >
            <div class="Body">
                <p>{!g.Body__c}</p>
                <br></br>
                <p><b>Written by: </b> {!g.CreatedBy.Name}</p>
            </div>
           
        </lightning:card>
        
    </aura:iteration>
      </div>  
    </div>
	
</aura:component>