<aura:component controller="MeetingController" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes" access="global" >
	
    <!-- Upon initialization of page, calls JS controller to execute 'doInit' function -->
    <aura:handler name="init" value="{!this}" action="{!c.doInit}"/>
    <aura:attribute name="AdminPerm" type="Boolean" default="False"/>
    <aura:attribute name="confirmIsTrue" type="Boolean" default="False"/>
    <aura:attribute name="idExists" type="Boolean" default="False"/>
    <aura:attribute name="meetingId" type="String"/>
    <aura:attribute name="CreateTimeSlot" type="Boolean"/>
    <aura:attribute name="CreateNewMeeting" type="Boolean"/>
    <aura:attribute name="CreateUpdateMeeting" type="Boolean"/>
    <aura:registerEvent name="CreateTimeSlotEvent" type="c:CreateTimeSlotEvent"/>
   
    <!-- Displays recordViewForm if user does not have Admin Profile so that user cannot edit Meeting info -->
    <lightning:card>
    <aura:if isTrue="{!!v.AdminPerm}">
    	<lightning:recordViewForm recordId="{!v.meetingId}" objectApiName="Meeting__c">
        <div class="slds-col">
                <lightning:outputField fieldName="Name"/>
            	<lightning:outputField fieldName="Meeting_Status__c"/>
                <lightning:outputField fieldName="StartDateTime__c"/>
                <lightning:outputField fieldName="EndDateTime__c"/>
            	<lightning:outputField fieldName="Google_Event_Id__c"/>
            </div>
        </lightning:recordViewForm>
    </aura:if>
    
        <!-- Displays recordEditForm if user has the admin Profile so that user can edit Meeting info aka they are an interviewer -->
        <aura:if isTrue="{!v.CreateNewMeeting}">
        <aura:if isTrue="{!v.AdminPerm}">
        <lightning:recordEditForm objectApiName="Meeting__c">
        	<div class="slds-col">
                <lightning:inputField fieldName="Name"/>
                <lightning:inputField fieldName="Meeting_Status__c"/>
                <lightning:inputField fieldName="StartDateTime__c"/>
                <lightning:inputField fieldName="EndDateTime__c"/>  
            </div>
            <lightning:button class="slds-m-top_small" label="Create Meeting" type="submit"/>
        </lightning:recordEditForm>
        </aura:if>
  		</aura:if>
        
        <aura:if isTrue="{!v.CreateTimeSlot}">
        <aura:if isTrue="{!v.AdminPerm}">
        		
        </aura:if>
  		</aura:if>
        
    <!-- Displays recordEditForm if user has the admin Profile so that user can edit Meeting info aka they are an interviewer -->
    <aura:if isTrue="{!v.CreateUpdateMeeting}">
    <aura:if isTrue="{!!v.confirmIsTrue}">
    <aura:if isTrue="{!v.AdminPerm}">
    	<lightning:recordEditForm recordId="{!v.meetingId}" objectApiName="Meeting__c">
        	<div class="slds-col">
                <lightning:inputField fieldName="Name"/>
                <lightning:inputField fieldName="Meeting_Status__c"/>
                <lightning:inputField fieldName="StartDateTime__c"/>
                <lightning:inputField fieldName="EndDateTime__c"/>
                <lightning:outputField fieldName="Google_Event_Id__c"/>
            </div>
            <lightning:button class="slds-m-top_small" label="Update Information" type="submit"/>
            <lightning:button class="slds-m-top_small" label="Confirm Interview" onclick="{!c.confirmTrue}"/>
        </lightning:recordEditForm>
    </aura:if>
    </aura:if>
    </aura:if>
    <!-- Displays recordViewForm after an interviewer user clicks the 'Confirm Interview' button to finalize the information about the interview -->
    <aura:if isTrue="{!v.confirmIsTrue}">
      <aura:if isTrue="{!v.AdminPerm}">
    	<lightning:recordViewForm recordId="{!v.meetingId}" objectApiName="Meeting__c">
        <div class="slds-col">
                <lightning:outputField fieldName="Name"/>
            	<lightning:outputField fieldName="Meeting_Status__c"/>
                <lightning:outputField fieldName="StartDateTime__c"/>
                <lightning:outputField fieldName="EndDateTime__c"/>
            	<lightning:outputField fieldName="Google_Event_Id__c"/>
            </div>
        </lightning:recordViewForm>
    </aura:if>
    </aura:if>
</lightning:card>
</aura:component>